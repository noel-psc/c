#include <stdio.h>
// 交换两个元素的值
void swap(int* a, int* b) {
    int temp = *a;
    *a = *b;
    *b = temp;
}
// 将数组分区，并返回分区点的索引
int partition(int arr[], int low, int high) {
    int pivot = arr[high]; // 选择最后一个元素作为分区点
    int i = (low - 1); // i指向小于分区点的元素
    for (int j = low; j <= high - 1; j++) {
        // 如果当前元素小于等于分区点，则将其交换到分区点左侧
        if (arr[j] <= pivot) {
            i++;
            swap(&arr[i], &arr[j]);
        }
    }
    swap(&arr[i + 1], &arr[high]); // 将分区点放到正确的位置上
    return (i + 1); // 返回分区点的索引
}
// 快速排序函数
void quickSort(int arr[], int low, int high) {
    if (low < high) {
        int pi = partition(arr, low, high); // 获取分区点的索引
        // 对分区点左侧和右侧的子数组进行递归排序
        quickSort(arr, low, pi - 1);
        quickSort(arr, pi + 1, high);
    }
}
// 打印数组元素
void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        printf("%d ", arr[i]);
    }
    printf("");
}
int main() {
    int arr[] = { 868, 218, -963, -87, -99, -282, 711, -415, 244, -215, -353, 6, 53, 445, -706, -676, -163, 503, -921, -33, -820, 321, 420, 637, -630, -867, -21, -928, -833, -165, -516, -652, 979, -832, -785, 975, -139, 238, -594, 492, -677, -397, 717, 244, 773, -389, 916, -200, -803, 390, -977, -243, 582, -153, -666, -957, 123, 890, -728, -654, -126, 582, -626, -637, -800, 871, -173, -771, 717, 997, -784, -859, 459, 34, 807, -509, -212, -126, 629, 531, 331, 250, 825, 418, -730, -492, 372, -29, 391, 36, 935, 957, 356, 99, 546, -891, -380, 338, 963, -94, -751, 462, -391, -598, -814, -615, -728, 720, -58, -195, 479, 124, -24, -374, 528, -913, -418, 287, -18, -933, -791, 108, -129, -618, 889, -893, 604, -718, 972, 871, -331, 192, -246, 565, -503, 547, -211, 567, -175, 895, 981, -959, -228, 777, -182, -960, -448, 530, 64, -303, 836, -442, 531, 157, 667, 99, -331, -774, 436, -758, 942, 541, 365, 803, 589, 31, 59, -933, 125, 236, 297, 644, -16, -637, -570, 329, -548, -48, -112, -816, 686, 50, 45, -671, -133, -470, -159, 171, 412, -940, -379, -212, -26, -22, -412, -67, -687, -666, 76, -803, -420, -486, -776, 799, -171, 91, 487, 883, -112, -211, 584, -468, -589, 896, -971, -484, -642, -900, 515, 609, -139, 896, 577, 750, -125, -281, -299, -558, 998, 544, -220, 975, -345, 261, 361, -294, 914, 631, -685, -985, -864, -112, 962, -493, 226, -394, -382, -244, 92, 365, -93, -251, 820, 969, 254, -426, -24, -67, -661, 743, 408, 576, -663, -27, -974, 943, 749, -357, -916, -491, -783, 959, -125, -724, 723, -486, 195, 441, 998, 382, 70, -776, 553, -926, -675, -413, -964, 534, 492, 134, -89, 88, 301, -550, -276, 978, -467, -862, -39, -547, 287, 455, -407, 743, 917, 650, -351, 643, 350, -153, -729, 467, -330, -268, -182, -993, -366, -632, 264, -775, -517, 11, -491, -602, 46, 498, -476, -1, 825, -898, -512, -995, 919, 395, -304, 23, -764, -319, 498, -324, 301, -527, -964, 204, 586, 865, -161, 576, 984, -968, -347, -396, 972, -60, 569, -488, 549, -156, -614, -663, 261, 480, -986, 732, -420, -429, -403, 122, 489, 526, 170, -40, 41, -943, -278, -862, -133, -278, -134, 913, -503, -62, 752, 898, 666, -109, 364, -5, 941, 270, -73, -103, 272, 307, 941, 648, 24, 580, 180, 45, 92, -167, -822, -849, 8, 475, -749, -421, -307, 819, -786, 942, -130, -917, 199, -731, -24, -323, -946, -234, -926, 218, -66, 98, -234, -189, 995, 678, -234, 576, 553, -622, -310, 285, -612, -521, -266, -581, 523, -850, -916, -764, -384, -482, -108, -423, -120, 190, -525, -954, -115, -685, -489, -604, 40, 245, 512, 198, -304, 295, -160, 62, -937, -98, 11, 157, 852, -138, 388, 913, 197, 186, 159, 747, 786, 467, -448, -345, -612, -230, -688, -218, 294, 755, -428, 713, -698, 280, -95, 594, 960, 130, -189, -316, -412, -51, 906, 357, -430, -651, 120, 993, 99, 972, 393, 657, -930, 88, 90, -402, 531, -592, 953, -318, 703, -869, -288, 252, 84, 37, 725, -166, -720, 474, -416, -756, -866, 862, -942, 107, 254, -924, 641, -146, -405, -385, -954, 376, 599, -722, 826, -112, 265, -967, 560, 125, -623, -949, 36, -551, -535, 421, -275, -46, 654, 937, 187, -926, 631, 847, 867, -700, 156, -800, 122, -408, -821, 581, 111, 312, 103, -996, -489, -526, 1, -222, 434, 756, -642, 530, 750, 273, -286, -672, 563, 390, 296, -312, 589, -616, -53, -711, -586, 23, -596, 196, 366, -210, -167, -973, 172, 830, 611, -189, 296, 998, -679, 946, -678, 196, 90, 291, -143, -913, 155, 927, -44, 798, 205, 242, -523, 950, 937, -715, 399, -434, -193, -283, -662, -255, 856, -214, -769, 273, 614, 748, 963, -457, -359, 682, 483, -805, 23, -703, 941, -762, -605, -788, 60, -338, -497, -647, -712, -345, 689, -39, 486, 794, -263, 792, 760, -808, 0, 818, -896, -820, -137, 195, 12, -918, -407, 928, -216, 454, -947, -343, -510, -681, 775, -768, 427, 902, -109, 178, -472, 569, -486, 240, 854, -102, 498, -103, -126, 721, 566, -710, 483, 909, -756, -310, 319, 271, -556, 66, -946, -175, -841, -341, 114, 825, -735, -713, 891, -624, 688, 445, -823, 54, -65, 970, 1, 32, 447, -510, 950, -74, -266, 48, 992, -104, 133, -382, -323, -224, -529, 524, 639, -756, -401, -612, -52, 140, -224, -712, -728, -948, 272, -385, -696, 731, 784, -510, 645, -239, -237, -316, -917, 226, 760, -565, -764, -629, -260, 2, 104, -425, -757, 993, 861, 128, 344, -463, -683, 832, 773, -512, 412, -733, -744, 324, -782, -189, -585, -548, 509, 433, 291, -891, 212, -729, 128, 209, -395, -671, -517, 117, 141, -913, -526, 933, 11, 141, -662, 235, -915, 461, 843, -477, -38, 880, -399, 197, 851, -492, -761, -72, -142, 121, -205, 540, -457, 789, -367, 813, -356, -278, 804, 241, 14, -87, 555, 55, -85, 253, 364, -515, 1000, 716, -44, -96, -401, -562, -34, 928, -719, -597, -771, -771, -226, -23, -297, -667, 261, 422, -609, -979, -449, 97, 576, 596, -981, -777, -580, 149, 720, -118, -684, 869, -531, 692, 112, 967, -714, -568, 38, -77, -197, -700, -318, 209, 381, -121, 537, 716, 162, 250, 564, -288, -76, 807, 368, 700, -947, 960, 124, 366, 28, 756, 696, 256, -66, -476, -21, 196, 885, -894, -285, -64, -709, -158, -965, 918, 62, 260, 986, -608, -392, 386, 454, 919, 152, -759, -105, 871, -351, -614, 899, -659, -987, -871, -641, -848, 816, 42, -443, -485, 813, 386, -102, 711, -798, -657, -479, 965, 446, -494, -909, -271, -645, -991, 543, -217, 315, 547, -224, -377, -382, -154, -374, 103, 310, 45, 979, 364, -485, 51, -813, 315, 883, 970, 883, -247, 386, -249, 638, 758, -772, 346, 263, -599, 649, -524, -853, 564, -845, -83, 85, -595, 652, -537, 208, 707, -239, 637, -579, 225, -528, -699, -63, -704 };
    int n = sizeof(arr) / sizeof(arr[0]);
    /*printf("原始数组：");
    printArray(arr, n);*/
    quickSort(arr, 0, n - 1);
    printf("排序后的数组：");
    printArray(arr, n);
    return 0;
}
